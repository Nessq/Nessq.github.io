{"version":3,"sources":["api/api.js","constans/API.js","components/Aside/Aside.module.css","redux/reducer/auth.reducer.js","components/Header/Header.module.css","components/common/Loader/Loader.jsx","components/common/Loader/Loader.module.css","redux/reducer/profile.reducer.js","redux/reducer/dialogs.reducer.js","redux/reducer/users.reducer.js","redux/reducer/app.reducer.js","components/Header/logo.svg","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Aside/Friend/Friend.jsx","components/Aside/Aside.jsx","components/Aside/AsideContainer.jsx","App.js","redux/reducer/sidebar.reducer.js","redux/store.js","index.js"],"names":["socialNetwork","axios","create","withCredentials","baseURL","headers","API","getUsers","currentPage","pageSize","get","then","res","data","setFollowed","userId","post","deleteFollowed","delete","getAuthMe","getProfile","getProfileStatus","setProfileStatus","textStatus","put","status","login","email","password","rememberMe","logout","module","exports","SET_USER_DATA","initialState","id","isAuth","authReducer","state","action","type","payload","setUserData","dispatch","a","resultCode","loginThunk","logoutThunk","Loader","props","className","style","loaderWrap","ldsRipple","ADD_POST","UPDATE_NEW_TEXT_POST","SET_USER_PROFILE","RESET_PROFILE","GET_PROFILE_STATUS","SET_PROFILE_STATUS","newTextPost","posts","profile","profileReducer","newPost","length","text","img","date","Date","toLocaleString","likeCount","addPostActionCreate","textPost","ADD_NEW_MESSAGE","dataDialog","name","dataMessage","message","dialogsReducer","newMessage","addNewMessageActionCreate","FOLLOWED","SET_USERS","CURRENT_PAGE","TOTAL_USER_COUNT","TOGGLE_FETCHING","TOGGLE_FOLLOWING","ERROR_FETCH_USERS","isFollowing","isFetching","totalUserCount","users","error","usersReducer","map","user","followed","count","filter","setUsersCount","toggleFetching","toggleFollowing","errorFetchUsers","totalCount","items","isFollowed","INITIALIZED_SUCCESS","initialized","initializing","Promise","all","Header","useDispatch","s","header","logo","src","alt","loginBlock","onClick","cursor","to","HeaderContainer","this","Component","connect","auth","Friend","avatar","Aside","useSelector","usersPage","aside","activeClassName","active","friendList","friend","sidebar","UsersContainer","React","lazy","ProfileContainer","DialogsContainer","Login","News","Music","Settings","App","initialApp","app","useEffect","AsideContainer","Suspense","fallback","path","render","reducers","combineReducers","profilePage","dialogsPage","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.68065016.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport {API_KEY, API_URL_BASE} from \"../constans/API\";\r\n\r\nconst socialNetwork = axios.create({\r\n    withCredentials: true,\r\n    baseURL: API_URL_BASE,\r\n    headers : {\r\n        \"API-KEY\" : API_KEY,\r\n    }\r\n})\r\n\r\n\r\nexport class API{\r\n\r\n    static getUsers = (currentPage, pageSize) => socialNetwork.get(`users?page=${currentPage}&count=${pageSize}`).then(res => res.data);\r\n\r\n    static setFollowed = userId => socialNetwork.post(`follow/${userId}`).then(res => res.data);\r\n\r\n    static deleteFollowed = userId => socialNetwork.delete(`follow/${userId}`).then(res => res.data);\r\n\r\n    static getAuthMe = () => socialNetwork.get('auth/me',).then(res => res.data);\r\n\r\n    static getProfile = (userId) => socialNetwork.get(`profile/${userId}`).then(res => res.data);\r\n\r\n    static getProfileStatus = (userId) => socialNetwork.get(`profile/status/${userId}`).then(res => res.data);\r\n\r\n    static setProfileStatus = (textStatus) => socialNetwork.put(`profile/status/`, {status : textStatus}).then(res => res.data);\r\n\r\n    static login = (email, password, rememberMe = false) => socialNetwork.post(`auth/login/`, {email, password, rememberMe})\r\n\r\n    static logout = () => socialNetwork.delete(`auth/login/`)\r\n\r\n}","export const API_KEY = \"27980629-0bc3-4877-b189-d1f025f68a80\"\r\nexport const API_URL_BASE = \"https://social-network.samuraijs.com/api/1.0/\"\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__F4hVU\",\"active\":\"Aside_active__26K4m\",\"friendList\":\"Aside_friendList__dZZoD\"};","import {API} from \"../../api/api\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\n\r\n\r\nconst initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false\r\n}\r\n\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const setUserData = (id, login, email, isAuth) => ({type: SET_USER_DATA, payload: {id, login, email, isAuth}})\r\n\r\nexport const getAuthMe = () => async (dispatch) => {\r\n    const data = await API.getAuthMe()\r\n    if (!data.resultCode) dispatch(setUserData(data.data.id, data.data.login, data.data.email, true))\r\n}\r\n\r\nexport const loginThunk = (email, password, rememberMe) => async (dispatch) => {\r\n    const data = await API.login(email, password, rememberMe)\r\n    if (!data.resultCode) dispatch(getAuthMe())\r\n}\r\n\r\nexport const logoutThunk = () => async (dispatch) => {\r\n    const data = await API.logout()\r\n    if (!data.resultCode) dispatch(setUserData(null, null, null, false))\r\n\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__l2n5e\",\"logo\":\"Header_logo__2HDDi\",\"loginBlock\":\"Header_loginBlock__3UFtC\"};","import React from 'react';\r\nimport style from './Loader.module.css'\r\n\r\nconst Loader = (props) => {\r\n    return (\r\n        <div className={style.loaderWrap}>\r\n          <div className={style.ldsRipple}>\r\n              <div></div>\r\n              <div></div>\r\n          </div>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Loader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderWrap\":\"Loader_loaderWrap__1IOEz\",\"ldsRipple\":\"Loader_ldsRipple__2Z-h1\"};","\r\nimport {API} from \"../../api/api\";\r\n\r\nconst ADD_POST = 'ADD_POST'\r\nconst UPDATE_NEW_TEXT_POST = 'UPDATE_NEW_TEXT_POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst RESET_PROFILE = 'RESET_PROFILE'\r\nconst GET_PROFILE_STATUS = 'GET_PROFILE_STATUS'\r\nconst SET_PROFILE_STATUS = 'SET_PROFILE_STATUS'\r\n\r\n\r\nconst initialState = {\r\n    newTextPost: '',\r\n    posts: [\r\n\r\n\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n}\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: state.posts.length + 1,\r\n                text: action.payload,\r\n                img: `https://i.pinimg.com/originals/9c/77/46/9c7746225873e02d83b9315501b8dd2f.jpg`,\r\n                date: new Date().toLocaleString(),\r\n                likeCount: 0\r\n            }\r\n            return {...state, posts: [...state.posts, newPost]}\r\n\r\n        case UPDATE_NEW_TEXT_POST:\r\n            return {...state, newTextPost: action.newTextPost}\r\n\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n\r\n        case RESET_PROFILE:\r\n            return {...state, profile: null}\r\n\r\n        case GET_PROFILE_STATUS:\r\n            return {...state, status: action.status}\r\n        case SET_PROFILE_STATUS:\r\n            return {...state, status: action.status}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostActionCreate = (textPost) => ({type: ADD_POST, payload: textPost})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const resetProfile = () => ({type: RESET_PROFILE})\r\nexport const getProfileStatusAction = (status) => ({type: GET_PROFILE_STATUS, status})\r\nexport const setProfileStatusAction = (status) => ({type: SET_PROFILE_STATUS, status})\r\n\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n    dispatch(resetProfile())\r\n    dispatch(getProfileStatus(userId))\r\n    const data = await API.getProfile(userId)\r\n    dispatch(setUserProfile(data))\r\n}\r\n\r\n\r\nexport const getProfileStatus = (userId) => async (dispatch) => {\r\n    const data = await API.getProfileStatus(userId)\r\n    dispatch(getProfileStatusAction(data))\r\n}\r\n\r\nexport const setProfileStatus = (textStatus) => async (dispatch) => {\r\n    await API.setProfileStatus(textStatus)\r\n    dispatch(setProfileStatusAction(textStatus))\r\n\r\n}","const ADD_NEW_MESSAGE = 'ADD_NEW_MESSAGE'\r\n\r\nconst initialState = {\r\n    dataDialog: [\r\n        {id: '1', name: 'Max'},\r\n        {id: '2', name: 'Dasha'},\r\n        {id: '3', name: 'Lara'},\r\n    ],\r\n\r\n    dataMessage: [\r\n        {id: '1', message: 'qwee'},\r\n        {id: '2', message: 'qwee'},\r\n        {id: '3', message: 'Laqwera'},\r\n    ],\r\n}\r\n\r\nexport const dialogsReducer = (state = initialState, action) =>{\r\n\r\n\r\n\r\n    switch (action.type) {\r\n        case ADD_NEW_MESSAGE:\r\n            let newMessage = {\r\n                id : state.dataMessage.length+1,\r\n                message: action.payload,\r\n            }\r\n            return {...state, dataMessage: [...state.dataMessage, newMessage]}\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const addNewMessageActionCreate = (newMessage) => ({type: ADD_NEW_MESSAGE, payload: newMessage})\r\n","import {API} from \"../../api/api\";\r\n\r\nconst FOLLOWED = 'FOLLOWED'\r\nconst SET_USERS = 'SET_USERS'\r\nconst CURRENT_PAGE = 'CURRENT_PAGE'\r\nconst TOTAL_USER_COUNT = 'TOTAL_USER_COUNT'\r\nconst TOGGLE_FETCHING = 'TOGGLE_FETCHING'\r\nconst TOGGLE_FOLLOWING = 'TOGGLE_FOLLOWING'\r\nconst ERROR_FETCH_USERS = 'ERROR_FETCH_USERS'\r\n\r\nconst initialState = {\r\n    isFollowing: [],\r\n    isFetching: false,\r\n    currentPage: 1,\r\n    pageSize: 8,\r\n    totalUserCount: 0,\r\n    users: [],\r\n    error: false\r\n}\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case FOLLOWED:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => user.id === action.userId ? {...user, followed: !user.followed} : user)\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users,\r\n\r\n            }\r\n        case CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.count\r\n            }\r\n        case TOTAL_USER_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUserCount: action.count\r\n            }\r\n        case TOGGLE_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_FOLLOWING:\r\n            return {\r\n                ...state,\r\n                isFollowing: action.isFollowing ? [...state.isFollowing, action.userId] : state.isFollowing.filter(userId => userId !== action.userId)\r\n            }\r\n        case ERROR_FETCH_USERS:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n//ACTION CREATOR\r\nexport const setFollowed = (userId) => ({type: FOLLOWED, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (count) => ({type: CURRENT_PAGE, count})\r\nexport const setUsersCount = (count) => ({type: TOTAL_USER_COUNT, count})\r\nexport const toggleFetching = (isFetching) => ({type: TOGGLE_FETCHING, isFetching})\r\nexport const toggleFollowing = (isFollowing, userId) => ({type: TOGGLE_FOLLOWING, isFollowing, userId})\r\nexport const errorFetchUsers = (message) => ({type: ERROR_FETCH_USERS, payload: message})\r\n\r\n\r\n\r\n//THUNK CREATOR\r\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleFetching(true))\r\n\r\n    try{\r\n        const data = await API.getUsers(currentPage, pageSize)\r\n        dispatch(setCurrentPage(currentPage))\r\n        dispatch(setUsersCount(data.totalCount))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(toggleFetching(false))\r\n    }\r\n    catch (e) {\r\n        dispatch(toggleFetching(false))\r\n        dispatch(errorFetchUsers(e.message))\r\n    }\r\n}\r\n\r\nexport const followed = (userId, isFollowed) => async (dispatch) => {\r\n    dispatch(toggleFollowing(true, userId))\r\n    if (!isFollowed) {\r\n        const data = await API.setFollowed(userId)\r\n        if (!data.resultCode) dispatch(setFollowed(userId))\r\n        dispatch(toggleFollowing(false, userId))\r\n\r\n    } else if (isFollowed) {\r\n        const data = await API.deleteFollowed(userId)\r\n        if (!data.resultCode) dispatch(setFollowed(userId))\r\n        dispatch(toggleFollowing(false, userId))\r\n    }\r\n}","import {getAuthMe} from \"./auth.reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\n\r\nconst initialState = {\r\n    initialized: false,\r\n\r\n}\r\n\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\n\r\nexport const initializing = () => (dispatch) => {\r\n    Promise.all([dispatch(getAuthMe())]).then(res => dispatch(initializedSuccess()))\r\n}","export default __webpack_public_path__ + \"static/media/logo.a106bf78.svg\";","import React from 'react';\r\nimport logo from './logo.svg'\r\n\r\nimport s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {logoutThunk} from \"../../redux/reducer/auth.reducer\";\r\n\r\nfunction Header(props) {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const handleLogout = () =>{\r\n        dispatch(logoutThunk())\r\n    }\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.logo}>\r\n                <img src={logo} alt=\"logo\"/>\r\n                <p>Social network</p>\r\n            </div>\r\n\r\n            <div className={s.loginBlock}>\r\n\r\n                {\r\n                    props.isAuth\r\n                        ? <div><span>{props.login}</span> | <span onClick={handleLogout} style={{cursor: \"pointer\"}}>Exit</span></div>\r\n                        : <NavLink to={'/login'}>Login</NavLink>\r\n                }\r\n\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\n\r\nclass HeaderContainer extends Component {\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n          <Header {...this.props}/>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>({\r\n    id: state.auth.id,\r\n    email : state.auth.email,\r\n    login : state.auth.login,\r\n    isAuth : state.auth.isAuth\r\n})\r\n\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {}\r\n)(HeaderContainer);","import React from 'react';\r\n\r\nconst Friend = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={props.avatar} alt=\"\"/>\r\n            <p id={props.id}>{props.name}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Friend;","import React from 'react';\r\nimport s from './Aside.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friend from \"./Friend/Friend\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\n\r\nfunction Aside(props) {\r\n\r\n    const currentPage = useSelector(state => state.usersPage.currentPage)\r\n\r\n    return (\r\n        <aside className={s.aside}>\r\n            <ul>\r\n                <li><NavLink to=\"/profile\" activeClassName={s.active}>Профиль</NavLink></li>\r\n                <li><NavLink to=\"/dialogs\" activeClassName={s.active}>Сообщения</NavLink></li>\r\n                <li><NavLink to=\"/news\" activeClassName={s.active}>Новости</NavLink></li>\r\n                <li><NavLink to=\"/music\" activeClassName={s.active}>Музика</NavLink></li>\r\n                <br/>\r\n                <li><NavLink to={\"/users/\"+currentPage} activeClassName={s.active}>Пользователи</NavLink></li>\r\n                <br/>\r\n                <li><NavLink to=\"/settings\" activeClassName={s.active}>Настройки</NavLink></li>\r\n            </ul>\r\n\r\n            <div className={s.friendList}>\r\n                {\r\n                    props.friendList\r\n                        .map(friend =>\r\n                            <Friend\r\n                                key={friend.id}\r\n                                id={friend.id}\r\n                                name={friend.name}\r\n                                avatar={friend.avatar}\r\n                            />\r\n                        )\r\n                }\r\n            </div>\r\n        </aside>\r\n    );\r\n}\r\n\r\nexport default Aside;","import {connect} from \"react-redux\";\r\nimport Aside from \"./Aside\";\r\n\r\n\r\n\r\nconst mapStateToProps = (state) =>({\r\n    friendList : state.sidebar.friendList\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) =>({\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Aside)","import './App.css';\nimport React, {useEffect} from 'react';\nimport {Route} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {initializing} from \"./redux/reducer/app.reducer\";\nimport Loader from \"./components/common/Loader/Loader\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport AsideContainer from \"./components/Aside/AsideContainer\";\n// import {News} from \"./components/News/News\";\n// import {Music} from \"./components/Music/Music\";\n// import {Settings} from \"./components/Settings/Settings\";\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\n// import UsersContainer from \"./components/Users/UsersContainer\";\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\n// import Login from \"./components/Login/Login\";\n\nconst UsersContainer = React.lazy(()=> import(\"./components/Users/UsersContainer\"))\nconst ProfileContainer = React.lazy(()=> import(\"./components/Profile/ProfileContainer\"))\nconst DialogsContainer = React.lazy(()=> import(\"./components/Dialogs/DialogsContainer\"))\nconst Login = React.lazy(()=> import(\"./components/Login/Login\"))\nconst News = React.lazy(()=> import('./components/News/News'))\nconst Music = React.lazy(()=> import(\"./components/Music/Music\"))\nconst Settings = React.lazy(()=> import(\"./components/Settings/Settings\"))\n\n\nconst App = (props) => {\n\n    const initialApp = useSelector(state => state.app.initialized)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(initializing())\n    }, [dispatch])\n\n    if(!initialApp) return <Loader />\n\n    return (\n\n        <div className=\"app\">\n            <HeaderContainer/>\n            <AsideContainer />\n            <main>\n                <React.Suspense fallback={<Loader/>}>\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer />}/>\n                    <Route path='/dialogs' render={() => <DialogsContainer />}/>\n                    <Route path='/news' render={() => <News/>}/>\n                    <Route path='/music' render={() => <Music/>}/>\n                    <Route path={`/users/:page`} render={() => <UsersContainer/>}/>\n                    <Route path='/settings' render={() => <Settings/>}/>\n                    <Route path='/login' render={() => <Login/>}/>\n                </React.Suspense>\n            </main>\n        </div>\n\n    )\n}\n\nexport default App;\n","\r\n\r\nconst initialState = {\r\n    friendList: [\r\n        {id: '2', name: 'Oks', avatar: 'https://html5css.ru/w3css/img_avatar3.png'},\r\n        {id: '3', name: 'Oks', avatar: 'https://html5css.ru/w3css/img_avatar3.png'},\r\n        {id: '4', name: 'Oks', avatar: 'https://html5css.ru/w3css/img_avatar3.png'},\r\n        {id: '5', name: 'Oks', avatar: 'https://html5css.ru/w3css/img_avatar3.png'},\r\n        {id: '6', name: 'Oks', avatar: 'https://html5css.ru/w3css/img_avatar3.png'},\r\n    ],\r\n}\r\n\r\nexport const sidebarReducer = (state = initialState, action) =>{\r\n\r\n    \r\n    return state\r\n}","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {profileReducer} from \"./reducer/profile.reducer\";\r\nimport {sidebarReducer} from \"./reducer/sidebar.reducer\";\r\nimport {dialogsReducer} from \"./reducer/dialogs.reducer\";\r\nimport {usersReducer} from \"./reducer/users.reducer\";\r\nimport {authReducer} from \"./reducer/auth.reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport {appReducer} from \"./reducer/app.reducer\";\r\n\r\n\r\nconst reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth : authReducer,\r\n    app : appReducer\r\n})\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk))\r\n\r\n\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport store from './redux/store'\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\n\n//import reportWebVitals from './reportWebVitals';\n\n\n\n    ReactDOM.render(\n        // <React.StrictMode>\n            <BrowserRouter>\n                <Provider store={store}>\n                    <App/>\n                </Provider>\n            </BrowserRouter>,\n        // </React.StrictMode>,\n        document.getElementById('root')\n    );\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}