(this["webpackJsonpreact-project-1"]=this["webpackJsonpreact-project-1"]||[]).push([[6],{85:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var s=a(2),r=a(4),i=a(7),o=a(1),n=function(t){return function(e){return Object(i.d)((function(t){return t.auth.isAuth}))?Object(o.jsx)(t,Object(s.a)({},e)):Object(o.jsx)(r.a,{to:"/login"})}}},86:function(t,e,a){t.exports={main:"Profile_main__2d2Kg",profile:"Profile_profile__3zEpL",banner:"Profile_banner__3tOzL",content:"Profile_content__Y1seM",text:"Profile_text__3Aut9",date:"Profile_date__1jT8T",like:"Profile_like__BTSfM",avatar:"Profile_avatar__2ifYz",profileAvatar:"Profile_profileAvatar__1SgW2",profileName:"Profile_profileName__1cgFw",profileAbout:"Profile_profileAbout__x9Iz_",addPost:"Profile_addPost__2KNHZ",profileStatus:"Profile_profileStatus__2orkP",profileStatusEdit:"Profile_profileStatusEdit__bZJU2",profileStatusForm:"Profile_profileStatusForm__2t1Ja",noValid:"Profile_noValid__3p4q9",noValidMessage:"Profile_noValidMessage__W--Bn",noValidMessageShow:"Profile_noValidMessageShow__ob6Ey"}},97:function(t,e,a){"use strict";a.r(e);var s=a(2),r=a(22),i=a(33),o=a(37),n=a(36),c=a(0),l=a.n(c),u=a(7),f=a(34),j=a(86),d=a.n(j),p=a.p+"static/media/like.40a48498.svg",b=a(1),O=function(t){return Object(b.jsxs)("div",{className:d.a.content,children:[Object(b.jsx)("img",{src:t.img,alt:"",className:d.a.avatar}),Object(b.jsx)("p",{className:d.a.text,children:t.text}),Object(b.jsx)("div",{className:d.a.date,children:t.date}),Object(b.jsxs)("div",{className:d.a.like,children:[Object(b.jsx)("span",{children:t.likeCount})," ",Object(b.jsx)("img",{src:p,alt:"",width:"13"})]})]})},h=a(88),m=a(86),_=Object(u.b)((function(t){return{posts:t.profilePage.posts,newTextPost:t.profilePage.newTextPost}}),(function(t){return{handleAddPost:function(e){return t(Object(f.a)(e))}}}))((function(t){var e,a,r=Object(h.a)({mode:"onChange"}),i=r.register,o=r.handleSubmit,n=r.reset,l=r.formState.errors,u=function(e){t.handleAddPost(e.textPost),n()},f="maxLength"===(null===(e=l.textPost)||void 0===e?void 0:e.type);return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsxs)("form",{className:m.addPost,onSubmit:o(u),children:[Object(b.jsx)("textarea",Object(s.a)({className:f?m.noValid:"",onKeyDown:function(t){13===t.keyCode&&!1===t.shiftKey&&(t.preventDefault(),o(u)())}},i("textPost",{required:!0,maxLength:{value:100,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 100 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}))),Object(b.jsx)("button",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),Object(b.jsx)("p",{className:"".concat(m.noValidMessage," ").concat(f?m.noValidMessageShow:""),children:null===(a=l.textPost)||void 0===a?void 0:a.message}),Object(b.jsx)("h2",{children:"\u041c\u043e\u0438 \u0417\u0430\u043f\u0438\u0441\u0438"}),Object(b.jsx)("div",{className:"posts",children:t.posts.map((function(t){return Object(b.jsx)(O,{text:t.text,img:t.img,date:t.date,likeCount:t.likeCount},t.id)}))})]})})),x=a(26),P=a(90),v=function(t){var e=Object(u.d)((function(t){return t.auth.id})),a=Object(c.useState)(!0),s=Object(P.a)(a,2),r=s[0],i=s[1],o=Object(c.useState)(!1),n=Object(P.a)(o,2),l=n[0],f=n[1],j=Object(c.useState)(t.profileId.userId===e),p=Object(P.a)(j,1)[0],O=Object(c.useState)((function(){return t.status})),h=Object(P.a)(O,2),m=h[0],_=h[1],v=function(e){p&&f(e),_((function(){return t.status}))};return Object(c.useEffect)((function(){_(t.status),i(!1)}),[t.status]),Object(b.jsxs)("div",{className:"".concat(d.a.profileStatus," ").concat(l?d.a.profileStatusEdit:""),children:[r&&Object(b.jsx)(x.a,{}),l?Object(b.jsxs)("div",{className:d.a.profileStatusForm,children:[Object(b.jsx)("input",{onBlur:function(){return setTimeout((function(){return v(!1)}),300)},autoFocus:!0,type:"text",value:m,onChange:function(t){return function(t){_((function(){return t.target.value}))}(t)}}),Object(b.jsx)("button",{onClick:function(){i(!0),t.setProfileStatus(m)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}):Object(b.jsxs)("p",{onClick:function(){return v(!0)},children:[m," ",p&&!m?"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441...":""]})]})},g=function(t){return t.profile?Object(b.jsxs)("div",{className:d.a.profile,children:[Object(b.jsxs)("div",{className:d.a.banner,style:{backgroundImage:"url(".concat(t.profile.photos.large,")")},children:[Object(b.jsx)("div",{className:d.a.profileAvatar,children:Object(b.jsx)("img",{src:t.profile.photos.small,alt:""})}),Object(b.jsx)("div",{className:d.a.profileName,children:t.profile.fullName}),Object(b.jsx)("div",{className:d.a.profileAbout,children:t.profile.aboutMe})]}),Object(b.jsx)(v,{profileId:t.profile,status:t.status,setProfileStatus:t.setProfileStatus}),Object(b.jsx)("div",{})]}):Object(b.jsx)(x.a,{})},S=function(t){return Object(b.jsxs)("div",{className:d.a.main,children:[Object(b.jsx)(g,{profile:t.profile,status:t.status,setProfileStatus:t.setProfileStatus}),Object(b.jsx)(_,{})]})},N=a(4),k=a(85),I=function(t){Object(o.a)(a,t);var e=Object(n.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId||this.props.authId;null!==t&&this.props.getProfile(t)}},{key:"componentDidUpdate",value:function(t,e,a){this.props.match.params.userId!==t.match.params.userId&&this.props.getProfile(this.props.match.params.userId||this.props.authId)}},{key:"render",value:function(){return Object(b.jsx)(S,Object(s.a)({},this.props))}}]),a}(l.a.Component);e.default=Object(u.b)((function(t){return{profile:t.profilePage.profile,authId:t.auth.id,status:t.profilePage.status}}),{getProfile:f.b,setProfileStatus:f.d})(Object(k.a)(Object(N.f)(I)))}}]);
//# sourceMappingURL=6.a6f86be7.chunk.js.map