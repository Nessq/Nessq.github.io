(this["webpackJsonpreact-project-1"]=this["webpackJsonpreact-project-1"]||[]).push([[1],{12:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(22),a=n(51),c=n.n(a).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"27980629-0bc3-4877-b189-d1f025f68a80"}}),i=function t(){Object(r.a)(this,t)};i.getUsers=function(t,e){return c.get("users?page=".concat(t,"&count=").concat(e)).then((function(t){return t.data}))},i.setFollowed=function(t){return c.post("follow/".concat(t)).then((function(t){return t.data}))},i.deleteFollowed=function(t){return c.delete("follow/".concat(t)).then((function(t){return t.data}))},i.getAuthMe=function(){return c.get("auth/me").then((function(t){return t.data}))},i.getProfile=function(t){return c.get("profile/".concat(t)).then((function(t){return t.data}))},i.getProfileStatus=function(t){return c.get("profile/status/".concat(t)).then((function(t){return t.data}))},i.setProfileStatus=function(t){return c.put("profile/status/",{status:t}).then((function(t){return t.data}))},i.login=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c.post("auth/login/",{email:t,password:e,rememberMe:n})},i.logout=function(){return c.delete("auth/login/")}},15:function(t,e,n){t.exports={aside:"Aside_aside__F4hVU",active:"Aside_active__26K4m",friendList:"Aside_friendList__dZZoD"}},18:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return j})),n.d(e,"d",(function(){return b}));var r=n(5),a=n.n(r),c=n(14),i=n(2),s=n(12),u="SET_USER_DATA",o={id:null,login:null,email:null,isAuth:!1},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:return Object(i.a)(Object(i.a)({},t),e.payload);default:return t}},d=function(t,e,n,r){return{type:u,payload:{id:t,login:e,email:n,isAuth:r}}},f=function(){return function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.getAuthMe();case 2:(n=t.sent).resultCode||e(d(n.data.id,n.data.login,n.data.email,!0));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(t,e,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.login(t,e,n);case 2:r.sent.resultCode||c(f());case 4:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()},b=function(){return function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.logout();case 2:t.sent.resultCode||e(d(null,null,null,!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},25:function(t,e,n){t.exports={header:"Header_header__l2n5e",logo:"Header_logo__2HDDi",loginBlock:"Header_loginBlock__3UFtC"}},26:function(t,e,n){"use strict";n(0);var r=n(30),a=n.n(r),c=n(1);e.a=function(t){return Object(c.jsx)("div",{className:a.a.loaderWrap,children:Object(c.jsxs)("div",{className:a.a.ldsRipple,children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})})}},30:function(t,e,n){t.exports={loaderWrap:"Loader_loaderWrap__1IOEz",ldsRipple:"Loader_ldsRipple__2Z-h1"}},34:function(t,e,n){"use strict";n.d(e,"c",(function(){return O})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return g})),n.d(e,"d",(function(){return x}));var r=n(5),a=n.n(r),c=n(14),i=n(19),s=n(2),u=n(12),o="ADD_POST",l="UPDATE_NEW_TEXT_POST",d="SET_USER_PROFILE",f="RESET_PROFILE",j="GET_PROFILE_STATUS",b="SET_PROFILE_STATUS",p={newTextPost:"",posts:[],profile:null,status:""},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:var n={id:t.posts.length+1,text:e.payload,img:"https://i.pinimg.com/originals/9c/77/46/9c7746225873e02d83b9315501b8dd2f.jpg",date:(new Date).toLocaleString(),likeCount:0};return Object(s.a)(Object(s.a)({},t),{},{posts:[].concat(Object(i.a)(t.posts),[n])});case l:return Object(s.a)(Object(s.a)({},t),{},{newTextPost:e.newTextPost});case d:return Object(s.a)(Object(s.a)({},t),{},{profile:e.profile});case f:return Object(s.a)(Object(s.a)({},t),{},{profile:null});case j:case b:return Object(s.a)(Object(s.a)({},t),{},{status:e.status});default:return t}},h=function(t){return{type:o,payload:t}},g=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:f}),n(v(t)),e.next=4,u.a.getProfile(t);case 4:r=e.sent,n({type:d,profile:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.getProfileStatus(t);case 2:r=e.sent,n({type:j,status:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.setProfileStatus(t);case 2:n({type:b,status:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},48:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return u}));var r=n(19),a=n(2),c="ADD_NEW_MESSAGE",i={dataDialog:[{id:"1",name:"Max"},{id:"2",name:"Dasha"},{id:"3",name:"Lara"}],dataMessage:[{id:"1",message:"qwee"},{id:"2",message:"qwee"},{id:"3",message:"Laqwera"}]},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case c:var n={id:t.dataMessage.length+1,message:e.payload};return Object(a.a)(Object(a.a)({},t),{},{dataMessage:[].concat(Object(r.a)(t.dataMessage),[n])});default:return t}},u=function(t){return{type:c,payload:t}}},49:function(t,e,n){"use strict";n.d(e,"d",(function(){return h})),n.d(e,"a",(function(){return w})),n.d(e,"c",(function(){return _})),n.d(e,"b",(function(){return y}));var r=n(5),a=n.n(r),c=n(14),i=n(19),s=n(2),u=n(12),o="FOLLOWED",l="SET_USERS",d="CURRENT_PAGE",f="TOTAL_USER_COUNT",j="TOGGLE_FETCHING",b="TOGGLE_FOLLOWING",p="ERROR_FETCH_USERS",O={isFollowing:[],isFetching:!1,currentPage:1,pageSize:8,totalUserCount:0,users:[],error:!1},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:return Object(s.a)(Object(s.a)({},t),{},{users:t.users.map((function(t){return t.id===e.userId?Object(s.a)(Object(s.a)({},t),{},{followed:!t.followed}):t}))});case l:return Object(s.a)(Object(s.a)({},t),{},{users:e.users});case d:return Object(s.a)(Object(s.a)({},t),{},{currentPage:e.count});case f:return Object(s.a)(Object(s.a)({},t),{},{totalUserCount:e.count});case j:return Object(s.a)(Object(s.a)({},t),{},{isFetching:e.isFetching});case b:return Object(s.a)(Object(s.a)({},t),{},{isFollowing:e.isFollowing?[].concat(Object(i.a)(t.isFollowing),[e.userId]):t.isFollowing.filter((function(t){return t!==e.userId}))});case p:return Object(s.a)(Object(s.a)({},t),{},{error:e.payload});default:return t}},g=function(t){return{type:o,userId:t}},v=function(t){return{type:f,count:t}},x=function(t){return{type:j,isFetching:t}},m=function(t,e){return{type:b,isFollowing:t,userId:e}},w=function(t){return{type:p,payload:t}},_=function(t,e){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(x(!0)),n.prev=1,n.next=4,u.a.getUsers(t,e);case 4:c=n.sent,r({type:d,count:t}),r(v(c.totalCount)),r((a=c.items,{type:l,users:a})),r(x(!1)),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),r(x(!1)),r(w(n.t0.message));case 15:case"end":return n.stop()}var a}),n,null,[[1,11]])})));return function(t){return n.apply(this,arguments)}}()},y=function(t,e){return function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r(m(!0,t)),e){n.next=9;break}return n.next=4,u.a.setFollowed(t);case 4:n.sent.resultCode||r(g(t)),r(m(!1,t)),n.next=15;break;case 9:if(!e){n.next=15;break}return n.next=12,u.a.deleteFollowed(t);case 12:n.sent.resultCode||r(g(t)),r(m(!1,t));case 15:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}},57:function(t,e,n){},83:function(t,e,n){},84:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(23),i=n.n(c),s=(n(57),n(4)),u=n(7),o=n(2),l=n(18),d="INITIALIZED_SUCCESS",f={initialized:!1},j=function(){return function(t){Promise.all([t(Object(l.b)())]).then((function(e){return t({type:d})}))}},b=n(26),p=n(22),O=n(33),h=n(37),g=n(36),v=n.p+"static/media/logo.a106bf78.svg",x=n(25),m=n.n(x),w=n(11),_=n(1);var y=function(t){var e=Object(u.c)();return Object(_.jsxs)("header",{className:m.a.header,children:[Object(_.jsxs)("div",{className:m.a.logo,children:[Object(_.jsx)("img",{src:v,alt:"logo"}),Object(_.jsx)("p",{children:"Social network"})]}),Object(_.jsx)("div",{className:m.a.loginBlock,children:t.isAuth?Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{children:t.login})," | ",Object(_.jsx)("span",{onClick:function(){e(Object(l.d)())},style:{cursor:"pointer"},children:"Exit"})]}):Object(_.jsx)(w.b,{to:"/login",children:"Login"})})]})},E=function(t){Object(h.a)(n,t);var e=Object(g.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return Object(_.jsx)(y,Object(o.a)({},this.props))}}]),n}(r.Component),S=Object(u.b)((function(t){return{id:t.auth.id,email:t.auth.email,login:t.auth.login,isAuth:t.auth.isAuth}}),{})(E),P=n(15),k=n.n(P),T=function(t){return Object(_.jsxs)("div",{children:[Object(_.jsx)("img",{src:t.avatar,alt:""}),Object(_.jsx)("p",{id:t.id,children:t.name})]})};var L=function(t){var e=Object(u.d)((function(t){return t.usersPage.currentPage}));return Object(_.jsxs)("aside",{className:k.a.aside,children:[Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:Object(_.jsx)(w.b,{to:"/profile",activeClassName:k.a.active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(_.jsx)("li",{children:Object(_.jsx)(w.b,{to:"/dialogs",activeClassName:k.a.active,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})}),Object(_.jsx)("li",{children:Object(_.jsx)(w.b,{to:"/news",activeClassName:k.a.active,children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})}),Object(_.jsx)("li",{children:Object(_.jsx)(w.b,{to:"/music",activeClassName:k.a.active,children:"\u041c\u0443\u0437\u0438\u043a\u0430"})}),Object(_.jsx)("br",{}),Object(_.jsx)("li",{children:Object(_.jsx)(w.b,{to:"/users/"+e,activeClassName:k.a.active,children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})}),Object(_.jsx)("br",{}),Object(_.jsx)("li",{children:Object(_.jsx)(w.b,{to:"/settings",activeClassName:k.a.active,children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})]}),Object(_.jsx)("div",{className:k.a.friendList,children:t.friendList.map((function(t){return Object(_.jsx)(T,{id:t.id,name:t.name,avatar:t.avatar},t.id)}))})]})},C=Object(u.b)((function(t){return{friendList:t.sidebar.friendList}}),(function(t){return{}}))(L),F=a.a.lazy((function(){return n.e(4).then(n.bind(null,98))})),A=a.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,97))})),N=a.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,99))})),I=a.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,93))})),R=a.a.lazy((function(){return n.e(9).then(n.bind(null,94))})),U=a.a.lazy((function(){return n.e(8).then(n.bind(null,95))})),D=a.a.lazy((function(){return n.e(10).then(n.bind(null,96))})),z=function(t){var e=Object(u.d)((function(t){return t.app.initialized})),n=Object(u.c)();return Object(r.useEffect)((function(){n(j())}),[n]),e?Object(_.jsxs)("div",{className:"app",children:[Object(_.jsx)(S,{}),Object(_.jsx)(C,{}),Object(_.jsx)("main",{children:Object(_.jsxs)(a.a.Suspense,{fallback:Object(_.jsx)(b.a,{}),children:[Object(_.jsx)(s.b,{path:"/profile/:userId?",render:function(){return Object(_.jsx)(A,{})}}),Object(_.jsx)(s.b,{path:"/dialogs",render:function(){return Object(_.jsx)(N,{})}}),Object(_.jsx)(s.b,{path:"/news",render:function(){return Object(_.jsx)(R,{})}}),Object(_.jsx)(s.b,{path:"/music",render:function(){return Object(_.jsx)(U,{})}}),Object(_.jsx)(s.b,{path:"/users/:page",render:function(){return Object(_.jsx)(F,{})}}),Object(_.jsx)(s.b,{path:"/settings",render:function(){return Object(_.jsx)(D,{})}}),Object(_.jsx)(s.b,{path:"/login",render:function(){return Object(_.jsx)(I,{})}})]})})]}):Object(_.jsx)(b.a,{})},G=(n(83),n(17)),M=n(34),W={friendList:[{id:"2",name:"Oks",avatar:"https://html5css.ru/w3css/img_avatar3.png"},{id:"3",name:"Oks",avatar:"https://html5css.ru/w3css/img_avatar3.png"},{id:"4",name:"Oks",avatar:"https://html5css.ru/w3css/img_avatar3.png"},{id:"5",name:"Oks",avatar:"https://html5css.ru/w3css/img_avatar3.png"},{id:"6",name:"Oks",avatar:"https://html5css.ru/w3css/img_avatar3.png"}]},H=n(48),B=n(49),Z=n(52),q=Object(G.c)({profilePage:M.c,dialogsPage:H.b,sidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return t},usersPage:B.d,auth:l.a,app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return Object(o.a)(Object(o.a)({},t),{},{initialized:!0});default:return t}}}),J=Object(G.e)(q,Object(G.a)(Z.a));i.a.render(Object(_.jsx)(w.a,{children:Object(_.jsx)(u.a,{store:J,children:Object(_.jsx)(z,{})})}),document.getElementById("root"))}},[[84,2,3]]]);
//# sourceMappingURL=main.68065016.chunk.js.map